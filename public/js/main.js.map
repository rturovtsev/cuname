{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["const cAuth = (function(){\r\n    var email = document.getElementById('email'),\r\n        password = document.getElementById('password'),\r\n        password2 = document.getElementById('repeat_password'),\r\n        form = document.getElementById('auth-form');\r\n\r\n    return {\r\n        checkLength: function(el, length) {\r\n            return el.value.length > length;\r\n        },\r\n        checkEmail: function() {\r\n            if (!this.checkLength(email, 5)) {\r\n                email.parentElement.classList.add('has-error');\r\n                return false;\r\n            }\r\n\r\n            email.parentElement.classList.remove('has-error');\r\n            return true;\r\n        },\r\n        checkPassword: function() {\r\n            if (password2) {\r\n                if (!this.checkLength(password, 5) || password.value !== password2.value) {\r\n                    password.parentElement.classList.add('has-error');\r\n                    password2.parentElement.classList.add('has-error');\r\n                    return false;\r\n                }\r\n\r\n                password.parentElement.classList.remove('has-error');\r\n                password2.parentElement.classList.remove('has-error');\r\n                return true;\r\n            } else {\r\n                if (!this.checkLength(password, 5)) {\r\n                    password.parentElement.classList.add('has-error');\r\n                    return false\r\n                }\r\n            }\r\n\r\n            password.parentElement.classList.remove('has-error');\r\n            return true;\r\n        },\r\n        event: function() {\r\n            form.onsubmit = function() {\r\n                return cAuth.checkEmail() && cAuth.checkPassword();\r\n            };\r\n        },\r\n        init: function() {\r\n            form && this.event();\r\n        }\r\n    };\r\n})();\r\n\r\n\r\nconst cLogout = (function() {\r\n    var logout = document.getElementById('logout');\r\n\r\n    return {\r\n        xhrLogout: function(e) {\r\n            e.preventDefault();\r\n\r\n            let xhr = new XMLHttpRequest(),\r\n                url = '/logout';\r\n\r\n            xhr.open('POST', url, true);\r\n            xhr.onreadystatechange = function() {\r\n                if (xhr.readyState != 4) return;\r\n                if (xhr.status !=200) {\r\n                    alert(\"Ошибка!\");\r\n                } else {\r\n                    location.href= \"/\";\r\n                }\r\n            };\r\n            xhr.send();\r\n        },\r\n        event: function() {\r\n            logout.addEventListener('click', this.xhrLogout);\r\n        },\r\n        init: function() {\r\n            logout && this.event();\r\n        }\r\n    };\r\n})();\r\n\r\n\r\n\r\n\r\n/* =========== INIT FUNCTION =========== */\r\ncAuth.init();\r\ncLogout.init();"],"sourceRoot":"/source/"}